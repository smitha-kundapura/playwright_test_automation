# Test info

- Name: Search the text 'Canon EOS 5D
- Location: /Users/smithakundapura/Documents/playwright_test_automation/tests/ui_test.spec.ts:50:1

# Error details

```
Error: locator.click: Test timeout of 30000ms exceeded.
Call log:
  - waiting for locator('a.btn.btn-primary.btn-block').filter({ hasText: 'View Cart' })

    at /Users/smithakundapura/Documents/playwright_test_automation/tests/ui_test.spec.ts:82:82
```

# Page snapshot

```yaml
- heading "Top categories close" [level=5]:
  - text: Top categories
  - link "close":
    - /url: "#mz-component-1626147655"
    - text: 
- navigation:
  - list:
    - listitem:
      - link "Components":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/category&path=25
        - img
        - text: Components
    - listitem:
      - link "Cameras":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/category&path=33
        - img
        - text: Cameras
    - listitem:
      - link "Phone, Tablets & Ipod":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/category&path=57
        - img
        - text: Phone, Tablets & Ipod
    - listitem:
      - link "Software":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/category&path=17
        - img
        - text: Software
    - listitem:
      - link "MP3 Players":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/category&path=34
        - img
        - text: MP3 Players
    - listitem:
      - link "Laptops & Notebooks":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/category&path=18
        - img
        - text: Laptops & Notebooks
    - listitem:
      - link "Desktops and Monitors":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/category&path=28
        - img
        - text: Desktops and Monitors
    - listitem:
      - link "Printers & Scanners":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/category&path=30
        - img
        - text: Printers & Scanners
    - listitem:
      - link "Mice and Trackballs":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/category&path=29
        - img
        - text: Mice and Trackballs
    - listitem:
      - link "Fashion and Accessories":
        - /url: ""
        - img
        - text: Fashion and Accessories
    - listitem:
      - link "Beauty and Saloon":
        - /url: ""
        - img
        - text: Beauty and Saloon
    - listitem:
      - link "Autoparts and Accessories":
        - /url: ""
        - img
        - text: Autoparts and Accessories
    - listitem:
      - link "Washing machine":
        - /url: ""
        - img
        - text: Washing machine
    - listitem:
      - link "Gaming consoles":
        - /url: ""
        - img
        - text: Gaming consoles
    - listitem:
      - link "Air conditioner":
        - /url: ""
        - img
        - text: Air conditioner
    - listitem:
      - link "Web Cameras":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/category&path=32
        - img
        - text: Web Cameras
- heading "Quick Links close" [level=5]:
  - text: Quick Links
  - link "close":
    - /url: "#mz-component-162614767"
    - text: 
- navigation:
  - list:
    - listitem:
      - link " Special Hot":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/special
    - listitem:
      - link " Wishlist":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=account/wishlist
    - listitem:
      - link " Compare":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/compare
    - listitem:
      - link " My account":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=account/account
    - listitem:
      - link " Blog":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=extension/maza/blog/home
    - listitem:
      - link " Tracking":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=information/tracking
    - listitem:
      - link " Contact us":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=information/contact
- separator
- paragraph: Place here any module, widget, design or HTML. for example menu, categories
- heading "Cart close" [level=5]:
  - text: Cart
  - link "close":
    - /url: "#cart-total-drawer"
    - text: 
- paragraph: Your shopping cart is empty!
- table:
  - rowgroup:
    - 'row "Sub-Total: $0.00"':
      - cell "Sub-Total:"
      - cell "$0.00":
        - strong: $0.00
    - 'row "Total: $0.00"':
      - cell "Total:"
      - cell "$0.00":
        - strong: $0.00
- button " Edit cart"
- button " Checkout"
- banner:
  - button ""
  - figure:
    - link "Poco Electro":
      - /url: https://ecommerce-playground.lambdatest.io/index.php?route=common/home
      - img "Poco Electro"
  - button "All Categories"
  - textbox "Search For Products"
  - button "Search"
  - link "Compare":
    - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/compare
    - img
  - link "Wishlist":
    - /url: https://ecommerce-playground.lambdatest.io/index.php?route=account/wishlist
    - img
  - button "0":
    - img
    - text: "0"
  - button "Shop by Category":
    - img
    - text: Shop by Category
  - navigation:
    - list:
      - listitem:
        - link "Home":
          - /url: https://ecommerce-playground.lambdatest.io/index.php?route=common/home
      - listitem:
        - link "Special Hot":
          - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/special
      - listitem:
        - link "Blog":
          - /url: https://ecommerce-playground.lambdatest.io/index.php?route=extension/maza/blog/home
      - listitem:
        - button "Mega Menu"
      - listitem:
        - button "AddOns Featured"
      - listitem:
        - button " My account"
  - paragraph:
    - strong: This is a dummy website for Web Automation Testing
- figure:
  - link "Apple Cinema 30\"":
    - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/product&product_id=42
    - img "Apple Cinema 30\""
- navigation "breadcrumb":
  - list:
    - listitem:
      - link "Home":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=common/home
        - text: 
    - listitem:
      - text: /
      - link "Desktops":
        - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/category&path=20
    - listitem: / Canon EOS 5D
- button ""
- link "Canon EOS 5D":
  - /url: https://ecommerce-playground.lambdatest.io/image/cache/catalog/maza/demo/mz_poco/megastore-2/product/3-500x500.webp
  - img "Canon EOS 5D"
- group "1 / 5":
  - link "":
    - /url: https://www.youtube.com/embed/gBw1P8OhBkA
- group "2 / 5":
  - link "Canon EOS 5D":
    - /url: https://ecommerce-playground.lambdatest.io/image/cache/catalog/maza/demo/mz_poco/megastore-2/product/15-500x500.webp
    - img "Canon EOS 5D"
- group "3 / 5":
  - link "Canon EOS 5D":
    - /url: https://ecommerce-playground.lambdatest.io/image/cache/catalog/maza/demo/mz_poco/megastore-2/product/10-500x500.webp
    - img "Canon EOS 5D"
- group "4 / 5":
  - link "Canon EOS 5D":
    - /url: https://ecommerce-playground.lambdatest.io/image/cache/catalog/maza/demo/mz_poco/megastore-2/product/12-500x500.webp
    - img "Canon EOS 5D"
- group "5 / 5":
  - link "Canon EOS 5D":
    - /url: https://ecommerce-playground.lambdatest.io/image/cache/catalog/maza/demo/mz_poco/megastore-2/product/10-500x500.webp
    - img "Canon EOS 5D"
- button "Next slide": 
- tablist:
  - listitem:
    - tab "Description" [selected]
  - listitem:
    - tab "Reviews"
  - listitem:
    - tab "Custom"
- paragraph: Canon's press material for the EOS 5D states that it 'defines (a) new D-SLR category', while we're not typically too concerned with marketing talk this particular statement is clearly pretty accurate. The EOS 5D is unlike any previous digital SLR in that it combines a full-frame (35 mm sized) high resolution sensor (12.8 megapixels) with a relatively compact body (slightly larger than the EOS 20D, although in your hand it feels noticeably 'chunkier'). The EOS 5D is aimed to slot in between the EOS 20D and the EOS-1D professional digital SLR's, an important difference when compared to the latter is that the EOS 5D doesn't have any environmental seals. While Canon don't specifically refer to the EOS 5D as a 'professional' digital SLR it will have obvious appeal to professionals who want a high quality digital SLR in a body lighter than the EOS-1D. It will also no doubt appeal to current EOS 20D owners (although lets hope they've not bought too many EF-S lenses...) äë
- heading "Canon EOS 5D" [level=1]
- list:
  - listitem: "Product Code: Product 3"
- separator
- list:
  - listitem:
    - text: "Brand:"
    - link "Canon":
      - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/manufacturer/info&manufacturer_id=9
  - listitem: "Viewed: 74751"
  - listitem: "Reward Points: 200"
  - listitem: "Availability: In Stock"
- figure:
  - link "Canon":
    - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/manufacturer/info&manufacturer_id=9
    - img "Canon"
- separator
- heading "$134.00" [level=3]
- text:  Size *
- combobox "Size *":
  - option "--- Please Select ---" [selected]
- text: Size required!
- list:
  - listitem: 5 or more $86.00
  - listitem: 10 or more $74.00
- button "Decrease quantity": 
- spinbutton "Qty": "1"
- button "Increase quantity": 
- button "Add to Cart"
- button "Buy now"
- button " Compare this Product"
- button "Size chart":  Size chart
- button "Popup":  Popup
- button "Ask Question":  Ask Question
- paragraph:
  - strong: "Tags:"
  - link "Canon":
    - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/search&tag=Canon
  - link "EOS":
    - /url: https://ecommerce-playground.lambdatest.io/index.php?route=product/search&tag=EOS
- separator
- img
- heading "Online payment" [level=5]
- img
- heading "Easy Return" [level=5]
- img
- heading "24x7 Service" [level=5]
- text: 0/50 reviews ★ 5 ★ 4 ★ 3 ★ 2 ★ 1 ★ 0
- heading "Write a review" [level=5]
- textbox "Your Name"
- textbox "Your Review"
- button "Write Review"
- heading "FAQ (Frequently Asked Questions)" [level=3]
- heading "How can I change my shipping address? " [level=5]
- heading "How can I change my shipping address? " [level=5]
- heading "How do I activate my account? " [level=5]
- heading "What do you mean by points? How do I earn it? " [level=5]
- heading "Why is there a checkout limit? / What are all the checkout limits? " [level=5]
- heading "Why must I make payment immediately at checkout? " [level=5]
- contentinfo:
  - paragraph: © LambdaTest - Powered by OpenCart
```

# Test source

```ts
   1 | const { test, expect } = require('@playwright/test');
   2 |
   3 |
   4 | test("Search the text 'Palm Treo Pro", async ({ page }) => {
   5 |
   6 | await page.goto('https://ecommerce-playground.lambdatest.io/');
   7 |
   8 | await page.locator("span.title", {hasText: 'Mega Menu' }).hover()
   9 |
   10 | await page.locator("a[title=Desktop]").click();
   11 |
   12 | const palmTreoProItems = page.locator("div.carousel-item.active > img[title='Palm Treo Pro']");
   13 | await expect(palmTreoProItems).toBeVisible();
   14 |     //await palmTreoProItems.waitFor({ state: 'visible', timeout: 5000 });
   15 |     await page.waitForLoadState('networkidle');
   16 | await palmTreoProItems.first().waitFor({ state: 'visible', timeout: 10000 });
   17 |
   18 | // Navigate through the carousel to ensure the product is visible
   19 | const count =   await palmTreoProItems.count();
   20 | console.log(`Number of Palm Treo Pro items found: ${count}`);
   21 | if (count > 0) {    
   22 | for (let i = 0; i < count; i++) {
   23 |     const palmTreoProItem = palmTreoProItems.nth(i);
   24 |     await expect(palmTreoProItem).toBeVisible();
   25 |     await palmTreoProItem.click();
   26 |     const addToCart =  page.locator("#container button[title='Add to Cart']");
   27 |         //wait for timeout period of 5 seconds without object to be visible
   28 |     //await addToCart.waitFor({ state: 'attached', timeout: 5000 });
   29 | //const isVisible = await addToCart.isVisible();
   30 |     //await page.waitForLoadState('networkidle');
   31 |
   32 | const isDisabled = await addToCart.isDisabled();
   33 | console.log(`Palm Treo Pro item ${i + 1} clicked, isDisabled: ${isDisabled}`);    // Check if the 'Add to Cart' button is visible and enabled
   34 |     if (!isDisabled) {
   35 |         await expect(addToCart).toBeVisible();
   36 |         await addToCart.click();
   37 |         await page.locator("a.btn.btn-primary.btn-block",{hasText: 'View Cart'}).click()
   38 |         await expect(page.locator("td.text-left", {hasText: 'Palm Treo Pro'})).toBeVisible()
   39 |         await expect(page.locator("div[class$='flex-nowrap'] > input")).toHaveValue("1")
   40 |     }else{
   41 |         //await addToCart.waitFor({ state: 'attached' });
   42 |         await expect(addToCart).toBeDisabled();
   43 |     }
   44 |     await page.goBack();
   45 | }
   46 | }
   47 |
   48 | });
   49 |
   50 | test("Search the text 'Canon EOS 5D", async ({ page }) => {
   51 |
   52 | await page.goto('https://ecommerce-playground.lambdatest.io/');
   53 |
   54 | await page.locator("span.title", {hasText: 'Mega Menu' }).hover()
   55 |
   56 | await page.locator("a[title=Desktop]").click();
   57 |
   58 | const canonProduct = page.locator("div.carousel-item.active > img[title='Canon EOS 5D']");
   59 | await expect(canonProduct).toBeVisible();
   60 | await page.waitForLoadState('networkidle');
   61 | await canonProduct.first().waitFor({ state: 'visible', timeout: 10000 });
   62 |
   63 | // Navigate through the carousel to ensure the product is visible
   64 | const count =   await canonProduct.count();
   65 | console.log(`Number of canonProduct items found: ${count}`);
   66 | if (count > 0) {    
   67 | for (let i = 0; i < count; i++) {
   68 |     const canonProd = canonProduct.nth(i);
   69 |     await expect(canonProd).toBeVisible();
   70 |     await canonProd.click();
   71 |     const addToCart =  page.locator("#container button[title='Add to Cart']");
   72 |         //wait for timeout period of 5 seconds without object to be visible
   73 |     //await addToCart.waitFor({ state: 'attached', timeout: 5000 });
   74 | //const isVisible = await addToCart.isVisible();
   75 |     //await page.waitForLoadState('networkidle');
   76 |
   77 | const isDisabled = await addToCart.isDisabled();
   78 | console.log(`canonProd item ${i + 1} clicked, isDisabled: ${isDisabled}`);    // Check if the 'Add to Cart' button is visible and enabled
   79 |     if (!isDisabled) {
   80 |         await expect(addToCart).toBeVisible();
   81 |         await addToCart.click();
>  82 |         await page.locator("a.btn.btn-primary.btn-block",{hasText: 'View Cart'}).click()
      |                                                                                  ^ Error: locator.click: Test timeout of 30000ms exceeded.
   83 |         await expect(page.locator("td.text-left", {hasText: 'Palm Treo Pro'})).toBeVisible()
   84 |         await expect(page.locator("div[class$='flex-nowrap'] > input")).toHaveValue("1")
   85 |     }else{
   86 |         //await addToCart.waitFor({ state: 'attached' });
   87 |         await expect(addToCart).toBeDisabled();
   88 |     }
   89 |     await page.goBack();
   90 | }
   91 | }
   92 |
   93 | });
   94 |
   95 | test('Open ecommerce playground homepage', async ({ page }) => {
   96 |     // Navigate to the website
   97 |     await page.goto('https://ecommerce-playground.lambdatest.io/');
   98 |
   99 |     // Assert that the homepage loaded by checking the title
  100 |     await expect(page).toHaveTitle(/Your Store/);
  101 |
  102 |     // Optionally, check for a visible element on the homepage
  103 |     await expect(page.locator('header')).toBeVisible();
  104 | });
  105 |
  106 | test('Search for a product and add to cart', async ({ page }) => {
  107 |     // Navigate to the website
  108 |     await page.goto('https://ecommerce-playground.lambdatest.io/');
  109 |
  110 |     // Type 'Macbook' into the search box and press Enter
  111 |     const searchBox = page.getByPlaceholder('Search For Products').first();
  112 |     await searchBox.fill('Macbook');
  113 |     await searchBox.press('Enter');
  114 |
  115 |     // Assert that the search results page loaded by checking the title
  116 |     await expect(page).toHaveTitle(/Search - Macbook/);
  117 |
  118 |     // Check that the search results are visible
  119 |     const firstProduct = page.getByText('MacBook Pro').first();
  120 |     await expect(firstProduct).toBeVisible();
  121 |
  122 |     // Click on the first product in the search results
  123 |     await firstProduct.click();
  124 |
  125 |     // Click on the 'Add to Cart' button
  126 |     const addToCartButton = page.getByPlaceholder('Add to Cart').first();
  127 |     if (await addToCartButton.isVisible()) {
  128 |     await expect(addToCartButton).toBeVisible();
  129 |     await addToCartButton.click();
  130 |
  131 |     // Assert that the cart has been updated
  132 |     const successMessage = page.locator('.alert-success');
  133 |     await expect(successMessage).toContainText('Success: You have added Macbook to your shopping cart!');
  134 | } else {
  135 |     // If 'Add to Cart' is not visible, check for 'Out Of Stock'
  136 |     const outOfStock = page.locator('button:has-text("OUT OF STOCK")').first();
  137 |     await outOfStock.waitFor({ state: 'attached' });
  138 |     await expect(outOfStock).toBeDisabled();
  139 |     //await expect(outOfStock).toBeVisible();
  140 | }   
  141 | });
  142 |
  143 |
```